# CoinCheck API 問い合わせ用再現プログラム

## About

Bitcoinの送金履歴取得API が常に 403 エラーで失敗する件をCoinCheck社に問い合わせる為の再現プログラム。

## Result

```
% npm start

> cc-test@1.0.0 start
> ts-node test.ts

[GET] https://coincheck.com/api/ticker
ticker: {"last":2775980,"bid":2775119,"ask":2775935,"high":2807000,"low":2740133,"volume":1344.18821105,"timestamp":1664759351}
[GET] https://coincheck.com/api/accounts/balance
[GET] https://coincheck.com/api/rate/btc_jpy
balance: ¥0, 0btc (¥0)
BTC/JPY Rate: 1BTC = ¥2774853.5, 0.005BTC = ¥13874.2675
[GET] https://coincheck.com/api/exchange/orders/transactions
transactions: []
[GET] https://coincheck.com/api/bank_accounts
bankAccounts: []
[GET] https://coincheck.com/api/exchange/orders/opens
openOrders: {"success":true,"orders":[]}
[GET] https://coincheck.com/api/send_money
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>ERROR: The request could not be satisfied</TITLE>
</HEAD><BODY>
<H1>403 ERROR</H1>
<H2>The request could not be satisfied.</H2>
<HR noshade size="1px">
Bad request.
We can't connect to the server for this app or website at this time. There might be too much traffic or a configuration error. Try again later, or contact the app or website owner.
<BR clear="all">
If you provide content to customers through CloudFront, you can find steps to troubleshoot and help prevent this error by reviewing the CloudFront documentation.
<BR clear="all">
<HR noshade size="1px">
<PRE>
Generated by cloudfront (CloudFront)
Request ID: guEmXv0CArca418t9mv9l9eP5njJHFE858ba3AlYlA-wnZmFyRv37g==
</PRE>
<ADDRESS>
</ADDRESS>
</BODY></HTML>
```

## How to test

### 1. Prerequests

- [Node.js](https://nodejs.org/ja/download/)

### 2. Setup

```
git clone https://github.com/suzukiplan/cc-inquiry-2022-10-03.git
cd cc-inquiry-2022-10-03
npm install 
``` 

### 3. Edit

[test.ts](test.ts) にアクセスキーとシークレットアクセスキーを入力

### 4. Execute

```
npm start
```

